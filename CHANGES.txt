Changelog
=========

1.0a3 - 2009-12-16
------------------

- Updated all profile versions in the Plone 4 series to new simple integer
  based numbers.
  [hannosch]

- Updated to match the new profile version for Plone.
  [hannosch]

- Extended the unregisterOldSteps upgrade step to remove persistent step
  registrations now done via ZCML.
  [hannosch]

- Fixed a reference of jquery.js in the Plone 3.0 upgrade steps. The file was
  only introduced in Plone 3.1.
  [hannosch]

- Moved the join action URL expression update to the 4.0a2-4.0a3 step, since
  it never got wired up for a1-a2.
  [davisagli]

- Removed references to content_icon, which is deprecated in CMFCore 2.2.0
  beta 1.
  [davisagli]

1.0a2 - 2009-12-02
------------------

- Provide join_form_fields to user_registration_fields migration.
  [esteele]

- Recompile all persistent Python Scripts during the upgrade.
  [hannosch]

- Simplify installation of new dependencies and include ``plone.app.imaging``.
  [hannosch]

- Run the steps found in the ``Products.CMFPlone:dependencies`` profile.
  [hannosch]

- Remove ``calendarpopup.js`` from portal_javascripts.
  [hannosch]

- Preserve the default theme after an upgrade instead of making sunburst the
  new default. Also ensure the classic_styles layer isn't part of sunburst.
  [hannosch]

- The plone_styles layer is automatically renamed to classic_styles.
  [hannosch]

- Let the mailhost upgrade step replace broken objects with a fresh standard
  mailhost. It's likely our new one has the features of the custom product.
  [hannosch]

- Clean up Zope's product registry to deal with removed products and internal
  changes to the HelpSys catalogs.
  [hannosch]

- Deal with more removed import steps and remove them from the registry.
  [hannosch]

- Cleanup the skins tools and remove broken directory views as well as cleaning
  up the skin selections to avoid references to no longer existing directories.
  [hannosch]

- Remove entries from the toolset registry pointing to no longer existing
  tools. This can happen when add-ons have been uninstalled.
  [hannosch]

- When upgrading to Plone 4.0a1, be sure to update the toolset with new class
  locations before importing any other profiles, which might otherwise fail
  in the toolset step. Be sure to update the locations for the tools which
  moved from CMFPlone to PlonePAS, for upgrades from very old sites.
  [davisagli]


1.0a1 - 2009-11-17
------------------

- Added Products.contentmigration as a dependency.
  [hannosch]

- Fixed removeal of highlightsearchterms.js.
  [naro]
  
- Added plonetheme.classic and plonetheme.sunburst as dependencies.
  [naro]

- Add migration for unified folders.
  [witsch]

- Replace highlightsearchterms.js with jquery.highlightsearchterms.js
  [mj]

- Add new default modifiers from CMFEditions on upgrade.
  [alecm]

- Adjust the sarissa.js condition on upgrading to Plone 4, so that it doesn't
  break if kupu is absent.
  [davisagli]

- Make sure the TinyMCE profile and default_editor property get installed
  when upgrading to Plone 4 (kupu remains the default editor for upgraded
  sites).
  [davisagli]

- Aded Migration for SecureMailHost removal
  [alecm]

- Added step to remove the plone_various step from the persistent import
  step registry.
  [davisagli]

- Added upgrade step to remove outdated actions and properties from both the
  Plone Site and TempFolder FTI.
  [hannosch]

- Adjusted setupReferencebrowser upgrade step to proper new-style.
  [hannosch]

- Added property use_email_as_login=False to the site properties in the
  Plone 4 alpha migration. Refs http://dev.plone.org/plone/ticket/9214.
  [maurits]

- Added update of resources to use the authenticated flag instead of a full
  expression where possible, in the Plone 4 alpha migration.
  [davisagli]

- Added renaming of Categories to Tags in the portal_atct tool indices in the
  Plone 4 alpha migration.
  [davisagli]

- Added updating of the actor variable expression for several workflows in the
  Plone 4 alpha migration. This helps fix
  http://dev.plone.org/plone/ticket/7398.
  [davisagli]

- Added removal of action for AT graphviz reference visualization from
  all content types in the Plone 4 alpha migration.
  [davisagli]

- Made the action icons migration switch from GIF to PNG where possible,
  and correctly handle actions in the document_actions category.
  [davisagli]

- Added link to upgrade instructions for sites upgraded from Plone < 2.5
  (technically, sites using GroupUserFolder)
  [davisagli]

- Added a INonInstallable utility to hide this package's profiles from the
  quick installer.
  [davisagli]

- Fixed a couple profiles that were not registered for IMigratingPloneSiteRoot.
  [davisagli]

- Added Plone 4 migration step to add icon_expr to FTIs.
  [davisagli]

- Revert the migration steps for getting rid of the external editor.
  [davisagli]

- Adjusted action icon migration to handle the configlet icons properly.
  [davisagli]

- Re-added missing configlet migrations.
  [davisagli]

- Adjust migration for installing CMFDiffTool to reflect the fact that this is
  now configured in CMFPlone.
  [davisagli]

- Re-add portal_controlpanel to the list of special action providers for the
  migrateOldActions function.
  [davisagli]

- Corrected the migrateActionIcons function to use the correct API for setting
  the new icon_expr, so that the icon_expr_object also gets set correctly.
  [davisagli]

- Adjusted the addMissingWorkflows action to reflect additional variables
  returned by the WorkflowDefinitionConfigurator in current DCWorkflow.
  [davisagli]

- Moved the cleanDefaultCharset action to the 3.0a2-3.0b1 migration; it is a
  prerequisite for that step's properties.xml import.
  [davisagli]

- Adjusted the 2.5-3.0a1 step to correct the toolset registry class metadata
  for the tools which are located in PlonePAS as of Plone 3.
  [davisagli]

- Added migration to make sure we're using an IRAMCache utility from
  zope.ramcache instead of zope.app.cache
  [davisagli]

- Merged changeset 27805 from 3.3 branch migrations for 3.3rc3 to
  3.3rc4 (fix cooked expressions in css registry).
  [maurits]  

- Added the z3c.autoinclude entry point so this package is automatically loaded
  on Plone 3.3 and above.
  [hannosch]

- Import the `replace_local_role_manager` method from borg.localrole.
  [hannosch]

- Merge changeset 24257 from 3.2 branch migrations for 3.2 to 3.2.1
  [calvinhp]

- Fixed deprecation warnings for use of Globals.
  [hannosch]

- Specified package dependencies.
  [hannosch]

- Updated method calls to PlonePAS. They lost the out argument.
  [hannosch]

- Adjusted enableZope3Site function to match the new CMF21 upgrade step.
  [hannosch]

- Removed safeGetMemberDataTool method, which wasn't used anywhere.
  [hannosch]

- Initial implementation.
  [hannosch]
